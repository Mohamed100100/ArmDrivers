#ifndef DMA_PRIV_H
#define DMA_PRIV_H

#include "LIB/stdtypes.h"

//                               0b10987654321098765432109876543210
#define DMA_ENABLE              (0b00000000000000000000000000000001UL)
#define DMA_DISABLE             (0b11111111111111111111111111111110UL)

//                               0b10987654321098765432109876543210
#define DMA_CHANNEL_MASK        (0b11110001111111111111111111111111UL)
#define DMA_MBurst_MASK         (0b11111100111111111111111111111111UL)
#define DMA_PBurst_MASK         (0b11111111100111111111111111111111UL)
#define DMA_DOUBLE_BUFFER_MASK  (0b11111111111110111111111111111111UL)
#define DMA_PRIORITY_MASK       (0b11111111111111001111111111111111UL)
#define DMA_MSIZE_MASK          (0b11111111111111111001111111111111UL)
#define DMA_PSIZE_MASK          (0b11111111111111111110011111111111UL)
#define DMA_MINC_MASK           (0b11111111111111111111101111111111UL)
#define DMA_PINC_MASK           (0b11111111111111111111110111111111UL)
#define DMA_CIRCULAR_MODE_MASK  (0b11111111111111111111111011111111UL)
#define DMA_DIRECTION_MASK      (0b11111111111111111111111100111111UL)
#define DMA_FLOW_CONTROL_MASK   (0b11111111111111111111111111011111UL)
#define DMA_MODE_MASK           (0b11111111111111111111111111111011UL)
#define DMA_FIFO_THRESHOLD_MASK (0b11111111111111111111111111111100UL)
#define DMA_INTERRUPT_MASK      (0b11111111111111111111111101100001UL)
#define DMA_INTERRUPT_SCR_REG   (0b11111111111111111111111101111111UL)
#define DMA_INTERRUPT_SFCR_REG  (0b11111111111111111111111111100001UL)

#define DMA1_BASE_ADDR        ((volatile DMA_Register_t*)0x40026000UL)
#define DMA2_BASE_ADDR        ((volatile DMA_Register_t*)0x40026400UL)


typedef struct {
    volatile uint32_t SCR;
    volatile uint32_t SNDTR;
    volatile uint32_t SPAR;
    volatile uint32_t SM0AR;
    volatile uint32_t SM1AR;
    volatile uint32_t SFCR;
}DMA_StreamRegs_t;

typedef struct {
    volatile uint32_t LISR;
    volatile uint32_t HISR;
    volatile uint32_t LIFCR;
    volatile uint32_t HIFCR;
    DMA_StreamRegs_t STREAM[8];
}DMA_Register_t;





#endif // DMA_PRIV_H